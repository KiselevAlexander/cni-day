{"version":3,"sources":["local/templates/2018/assets/sendform.js"],"names":["jQuery","t","sub","console","log","text","e","a","n","i","exec","navigator","userAgent","location","protocol","XDomainRequest","r","Deferred","open","type","responseText","resolve","send","onerror","cors","ajax","data","support","length","this","__email__","email","__title__","title","__data__","prototype","call","arguments","each","apply","o","state","dataType","$","val","product","sendto","error","reject","response","window","yaCounter42617899","reachGoal","fail","onLine","is","find","html","l","click","s","d","c","attr","addClass","hasClass","f","submit","Form","preventDefault","u","checkValidity","test","push","prop","done","append","always","removeClass"],"mappings":"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","file":"sendform.min.js","sourcesContent":["jQuery(function(t) {\n    const test = (sub) => {\n        const params = {\n            text: 'test 2'\n        };\n        const {text} = params;\n        console.log(`${text} ${sub}`);\n    };\n    test('sub');\n\n    var e = function() {\n            var e = '/local/templates/2018/sendform.php ',\n                a = function() {\n                    var e = (/MSIE (\\d+)\\./.exec(navigator.userAgent) || [0, 0])[1]\n                    return 8 == e || 9 == e && \"file:\" != location.protocol ? function(e, a) {\n                        var n = new XDomainRequest,\n                            r = t.Deferred()\n                        return n.open(a.type, e), n.onload = function() {\n                            r.resolve(this.responseText)\n                        }, n.onerror = function() {\n                            r.reject()\n                        }, n.send(a.data), r\n                    } : (t.support.cors = !0, t.ajax)\n                }(),\n                n = function(t, e) {\n                    return t = \"__\" + t + \"__\", e.length ? (this[t] = e[0], this) : this[t]\n                },\n                r = function(e, a, n) {\n                    return t.each(n, function(t, n) {\n                        e[n] = function() {\n                            return a[n].apply(a, arguments)\n                        }\n                    }), e\n                },\n                i = function(t) {\n                    t = t || {}, this.__email__ = t.email || \"\", this.__title__ = t.title || \"\", this.__data__ = t.data || []\n                }\n            return i.prototype.email = function(t) {\n                return n.call(this, \"email\", arguments)\n            }, i.prototype.title = function(t) {\n                return n.call(this, \"title\", arguments)\n            }, i.prototype.data = function(t) {\n                return n.call(this, \"data\", arguments)\n            }, i.prototype.send = function(n, i) {\n                var o = r(t.Deferred(), this, [\"email\", \"title\", \"data\", \"send\"])\n\n                return i && (i.call(this, o), \"pending\" != o.state()) ? o : (a(e, {\n                    type: \"POST\",\n                    dataType:'json',\n                    data: {\n                        email: this.__email__,\n                        sendto: $('[data-form-sendto]').val(),\n                        product: $('[data-form-product]').val(),\n                        city: $('[name=\"city\"]').val(),\n                        form: {\n                            title: this.__title__,\n                            data: arguments.length ? n : this.__data__\n                        }\n                    }\n                }).done(function(t) {\n                    try {\n                        console.log(e);\n                        t.error ? o.reject(t.error) : o.resolve(t.response)\n                        window.yaCounter42617899.reachGoal('Order');\n                    } catch (a) {\n                        o.reject(\"Incorrect server response.\")\n                    }\n                }).fail(function() {\n                    var t = \"Failed to query the server. \"\n                    t += \"onLine\" in navigator && !navigator.onLine ? \"No connection to the Internet.\" : \"Check the connection and try again.\", o.reject(t)\n                }), o)\n            }, {\n                Form: function(t) {\n                    return new i(t)\n                }\n            }\n        }(),\n        a = function(e) {\n            if (e.checkValidity) return e.checkValidity()\n            var a = !0,\n                n = t(e).val(),\n                r = t(e).attr(\"type\")\n            return n ? a = !(\"email\" === r && !/^([^@]+?)@(([a-z0-9]-*)*[a-z0-9]+\\.)+([a-z0-9]+)$/i.test(n)) : t(e).attr(\"required\") && (a = !1), t(e)[(a ? \"remove\" : \"add\") + \"Class\"](\"form-invalid\"), a\n        }\n    t('[data-form-type=\"formoid\"]').each(function() {\n        var n, r = t(this),\n            i = r.is(\"form\") ? r : r.find(\"form\"),\n            o = r.find(\"[data-form-alert]\"),\n            s = r.is(\"[data-form-title]\") ? r : r.find(\"[data-form-title]\"),\n            l = r.find('[type=\"submit\"]'),\n            c = o.attr(\"data-success\") || o.find(\"[data-form-alert-success]\").html()\n        l.html('<span class=\"btn-text\">' + l.html() + '</span><i class=\"btn-loader\"></i>').click(function() {\n            i.addClass(\"form-active\")\n        }), i.submit(function(d) {\n            if (d.preventDefault(), i.addClass(\"form-active\"), !l.hasClass(\"btn-loading\")) {\n                var f = !0,\n                    u = []\n                n = n || e.Form({\n                    email: r.find(\"[data-form-email]\").val(),\n                    title: s.attr(\"data-form-title\") || s.text()\n                }), o.html(\"\"), r.find(\"[data-form-field]\").each(function() {\n                    a(this) || (f = !1), u.push([t(this).attr(\"data-form-field\") || t(this).attr(\"name\"), t(this).val()])\n                }), f && (l.addClass(\"btn-loading\").prop(\"disabled\", !0), n.send(u).done(function(e) {\n                    i.removeClass(\"form-active\"), r.find(\"[data-form-field]\").val(\"\"), o.append(t('<div class=\"alert alert-form alert-success text-xs-center\"/>').text(c || e))\n                }).fail(function(e) {\n                    o.append(t('<div class=\"alert alert-form alert-danger text-xs-center\"/>').text(e))\n                }).always(function() {\n                    l.removeClass(\"btn-loading\").prop(\"disabled\", !1)\n                }))\n            }\n        })\n    })\n})"]}